---
title: "git常用命令"
excerpt: "介绍一下git常用的一些命令"
coverImage: "/assets/blog/hello-world/cover.jpg"
date: "2025-11-14"
author:
  name: 小羽
  picture: "/assets/blog/authors/jj.jpeg"
ogImage:
  url: "/assets/blog/preview/cover.jpg"
---

写一些git常用的一些操作和使用遇到的问题

## 常用命令

#### 初始化仓库
`git init`&emsp;初始化一个git仓库
`git add .`&emsp;将所有文件添加到暂存区
`git commit -m "提交信息"`&emsp;提交暂存区的文件到本地仓库
`git remote add origin 仓库地址`&emsp;添加远程仓库
`git push -u origin master`&emsp;将本地仓库的master分支推送到远程仓库
`git pull origin master`&emsp;从远程仓库的master分支拉取代码并合并到当前分支

#### 创建和切换分支
`git branch 分支名`&emsp;创建一个新的分支
`git checkout 分支名`&emsp;切换到指定分支
`git checkout -b 分支名`&emsp;创建并切换到新的分支
`git switch 分支名`&emsp;切换到指定分支

#### 查看分支
`git branch -a`&emsp;查看所有分支（包括本地和远程）
`git branch -r`&emsp;查看远程分支
`git branch -d 分支名`&emsp;删除本地分支
`git branch -D 分支名`&emsp;强制删除本地分支
`git branch -m 新分支名`&emsp;重命名当前分支
`git branch --set-upstream-to=origin/远程分支名 本地分支名`&emsp;设置本地分支跟踪远程分支
`git branch --track 本地分支名 origin/远程分支名`&emsp;创建并跟踪远程分支
`git branch -vv`&emsp;查看本地分支与远程分支的关联关系
`git branch --unset-upstream`&emsp;取消本地分支的跟踪设置
`git branch -M 新分支名`&emsp;强制重命名当前分支

#### 回退提交
`git reset --hard HEAD^`&emsp;回退到上一个提交
`git reset --hard 提交哈希值`&emsp;回退到指定提交
`git reset --soft HEAD^`&emsp;回退到上一个提交，但保留暂存区的更改
`git reset --mixed HEAD^`&emsp;回退到上一个提交，但保留工作目录的更改
`git reset --keep HEAD^`&emsp;回退到上一个提交，但保留暂存区和工作目录的更改
`git reset --hard origin/远程分支名`&emsp;将本地分支重置为远程分支的状态

#### 查看提交记录
`git reflog`&emsp;查看所有提交记录（包括回退操作）
`git log --oneline --graph --decorate --all`&emsp;以简洁的格式查看提交历史
`git log --oneline --graph --decorate --all --decorate-refs=refs/remotes`&emsp;查看所有分支的提交历史
`git log --pretty=oneline --graph --decorate --all`&emsp;以简洁的格式查看提交历史（不包括分支信息）
`git log --oneline --graph --decorate --all --decorate-refs=refs/remotes`&emsp;查看所有分支的提交历史（不包括分支信息）

#### 撤销提交
`git revert 提交哈希值`&emsp;撤销指定提交的更改，并创建一个新的提交
`git revert --no-commit 提交哈希值`&emsp;撤销指定提交的更改，但不创建新的提交
`git revert --no-commit HEAD~2..HEAD`&emsp;撤销最近的两次提交的更改，但不创建新的提交

#### 变基操作
`git rebase -i 提交哈希值`&emsp;交互式变基，用于修改提交历史
`git rebase -i HEAD~2`&emsp;交互式变基，用于修改最近的两次提交的历史
`git rebase --continue`&emsp;继续变基操作
`git rebase --abort`&emsp;取消变基操作

#### 查看状态
`git status`&emsp;查看当前仓库的状态

#### 查看差异
`git diff`&emsp;查看当前工作目录与暂存区的差异
`git diff --cached`&emsp;查看暂存区与上一个提交的差异
`git diff HEAD`&emsp;查看当前工作目录与上一个提交的差异
`git diff 提交哈希值1 提交哈希值2`&emsp;查看两个提交之间的差异
`git diff --name-only 提交哈希值1 提交哈希值2`&emsp;查看两个提交之间的差异（仅显示文件名）
`git diff --name-status 提交哈希值1 提交哈希值2`&emsp;查看两个提交之间的差异（仅显示文件名和状态）
`git diff --stat 提交哈希值1 提交哈希值2`&emsp;查看两个提交之间的差异（仅显示统计信息）

#### 暂存更改
`git stash`&emsp;将当前工作目录的更改暂存起来
`git stash pop`&emsp;恢复最近一次暂存的更改，并删除暂存记录
`git stash list`&emsp;查看所有暂存的更改记录
`git stash drop`&emsp;删除最近一次暂存的更改记录
`git stash clear`&emsp;删除所有暂存的更改记录
`git stash save "暂存信息"`&emsp;将当前工作目录的更改暂存起来，并添加暂存信息
`git stash apply 暂存记录索引`&emsp;恢复指定暂存记录的更改，但不删除暂存记录
`git stash branch 新分支名 暂存记录索引`&emsp;从指定暂存记录创建一个新的分支，并恢复更改
`git stash show 暂存记录索引`&emsp;查看指定暂存记录的更改详情
`git stash branch 新分支名 暂存记录索引`&emsp;从指定暂存记录创建一个新的分支，并恢复更改

#### 合并分支
`git merge 分支名`&emsp;将指定分支的更改合并到当前分支
`git merge --no-ff 分支名`&emsp;将指定分支的更改合并到当前分支，并创建一个新的合并提交
`git merge --ff-only 分支名`&emsp;将指定分支的更改合并到当前分支，但仅当合并是快进合并时才允许
`git merge --squash 分支名`&emsp;将指定分支的更改合并到当前分支，但将所有更改压缩为一个提交
`git merge --squash --no-commit 分支名`&emsp;将指定分支的更改合并到当前分支，但将所有更改压缩为一个提交，但不创建新的合并提交
`git merge --squash --commit 分支名`&emsp;将指定分支的更改合并到当前分支，但将所有更改压缩为一个提交，并创建一个新的合并提交

#### 标签
`git tag`&emsp;查看所有标签
`git tag 标签名`&emsp;创建一个新的标签
`git tag -a 标签名 -m "标签信息"`&emsp;创建一个新的 annotated 标签
`git push origin 标签名`&emsp;将标签推送到远程仓库
`git push origin --tags`&emsp;将所有标签推送到远程仓库
`git tag -d 标签名`&emsp;删除本地标签
`git push origin :标签名`&emsp;从远程仓库删除标签



## 常见问题
#### 关于github pages部署
如果出现403错误，可能是因为没有设置正确的权限。请确保你有足够的权限来部署到github pages。
方法：设置自己的github token，打开设置->Developer settings->Personal access tokens->Generate new token，勾选repo和pages权限，生成token。
然后再workflows中添加token，打开settings->Secrets and variables->Actions->New repository secret，添加token。
添加完成后，重新部署即可。


未完待续......